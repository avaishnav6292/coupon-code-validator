{"version":3,"sources":["ipconfig.js","components/Item.js","components/Header.js","components/AddCouponForm.js","components/Search.js","components/Cart.js","components/ViewCoupons.js","App.js","reportWebVitals.js","index.js"],"names":["config","Item","getUrl","props","item","_id","addItemToCart","a","url","fetch","method","alert","console","log","available","this","quantity","className","style","height","width","src","image","alt","brand","name","price","onClick","React","Component","Header","href","color","textDecoration","children","AddCouponForm","onFormSubmit","event","preventDefault","target","Object","keys","map","key","value","couponCode","startDate","expiryDate","couponType","minCartValue","discountValue","headers","body","JSON","stringify","toUpperCase","type","parseInt","id","tabIndex","role","onSubmit","placeholder","selected","disabled","Search","getItemsData","apiResponse","json","data","componentDidMount","items","setState","searchResult","state","onSearchInputChange","e","searchQuery","filter","toLowerCase","includes","category","gender","class","onChange","Cart","getCartData","cartData","cartIds","item_id","getCartItems","cartItems","removeCartItem","document","getElementById","innerHTML","total","getCartTotalValue","reduce","accumulator","verifyCouponCode","input","URLSearchParams","cartValue","Error","finalCartValue","boxShadow","length","ViewCoupons","getAllCoupons","coupons","border","backgroundColor","coupon","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bfff70d9.chunk.js","sourcesContent":["export const config = {\n    backendEndpoint : \"https://coupon-code-validator.herokuapp.com\"\n};","import React from \"react\";\nimport \"./styles/Item.css\";\nimport {config} from \"../ipconfig\";\n\nexport default class Item extends React.Component {\n\n    getUrl = () => {\n        const url = `${config.backendEndpoint}/cart/${this.props.item._id}`;\n        return url;\n    }\n\n    addItemToCart = async() => {\n        var url = this.getUrl();\n        try {\n            await fetch(url, {\n                method: \"POST\"\n            });\n        }\n        catch(err) {\n            alert(\"Error connecting to server\");\n            console.log(\"Error:\", err);\n        }\n    }\n\n\n    render() {\n        var available = this.props.item.quantity ? \"\" : \"out-of-stock\"\n        return(\n            <div className=\"col-xs-12 col-sm-6 col-md-4 col-lg-3 my-3\">\n                <div className=\"card\" style={{height:\"100%\", width:\"100%\"}}>\n                    <img className={`card-img-top ${available}` } src={this.props.item.image} alt=\"item\" />\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{this.props.item.brand}</h5>\n                        <p className=\"card-text\">{this.props.item.name}</p>\n                        <p>{`Rs. ${this.props.item.price}`}</p>\n                    </div>\n                    <a onClick={this.addItemToCart} className=\"btn btn-primary w-100 pt-3\" style={{height:\"50px\"}}>Add to Cart</a>\n                </div>                \n            </div>\n        );\n    }\n}","import React from \"react\";\n\n\nexport default class Header extends React.Component {\n\n    render() {\n        return (\n            <>\n                <nav className=\"navbar text-white bg-dark\">\n                    <h3><a href=\"/\" style={{ color: \"white\", textDecoration: \"none\" }}>Lorem Ipsum</a></h3>\n                    {this.props.children}\n                </nav>\n\n            </>\n        );\n    }\n}","import React from \"react\";\nimport {config} from \"../ipconfig\";\n\nexport default class AddCouponForm extends React.Component {\n\n    getUrl = () => {\n        const url = `${config.backendEndpoint}/coupons`;\n        return url;\n    }\n\n    onFormSubmit = async(event) => {\n        event.preventDefault();\n        console.log(event.target);\n        var [couponCode, startDate, expiryDate, couponType, minCartValue, discountValue, ...rest] = Object.keys(event.target).map(\n            (key) => event.target[key].value\n        )\n        let url = this.getUrl();\n        try{\n            let apiResponse = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    couponCode: couponCode.toUpperCase(),\n                    startDate: startDate,\n                    expiryDate: expiryDate,\n                    type: couponType,\n                    minCartValue: parseInt(minCartValue),\n                    discountValue: parseInt(discountValue)\n                })\n            });\n            // let data = await apiResponse.json();\n            alert(`Coupon Code '${couponCode}' added successfully.`)\n        }\n        catch(err) {\n            console.log(\"Error connecting to server\", err);\n        }\n\n        \n    }\n\n    render() {\n        return(\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">Add New Coupon</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <form onSubmit={this.onFormSubmit}>\n                            <label className=\"w-100\">Coupon Code:</label>\n                            <input name=\"coupon-code\" className=\"w-100\" type=\"text\" placeholder=\"Enter Coupon Code\" />\n                            <hr/>\n\n                            <label className=\"w-100\">Start Dat:</label>\n                            <input name=\"start-date\" className=\"w-100\" type=\"date\" placeholder=\"Select Coupon Start Date\" />\n                            <hr/>\n\n                            <label className=\"w-100\">Expiry Date:</label>\n                            <input name=\"expiry-date\" className=\"w-100\" type=\"date\" placeholder=\"Select Coupon Start Date\" />\n                            <hr/>\n\n                            <label className=\"w-100\">Type:</label>\n                            <select name=\"coupon-type\">\n                                <option value=\"0\" selected disabled>Select Coupon Code Type</option>\n                                <option value=\"flat\">Flat</option>\n                                <option value=\"percentage\" >Percentage</option>\n                            </select>\n                            <hr/>\n\n                            <label className=\"w-100\">Min Cart Value:</label>\n                            <input  name=\"min-cart-value\" className=\"w-100\" type=\"number\" placeholder=\"Enter Minimum Cart Value\" />\n                            <hr/>\n\n                            <label className=\"w-100\">Discount Value:</label>\n                            <input  name=\"discount-value\" className=\"w-100\" type=\"number\" placeholder=\"Enter Discount Value\" />\n                            <hr/>\n\n                            <div className=\"d-flex flex-row justify-content-end\">\n                                <button type=\"submit\" className=\"btn btn-primary\">Save changes</button>\n                                <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>  \n                            </div>\n                        </form>\n                    </div>\n                    {/* <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                        <button type=\"button\" className=\"btn btn-primary\">Save changes</button>\n                    </div> */}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport {config} from \"../ipconfig\";\nimport Item from \"./Item\";\nimport Header from \"./Header\";\nimport AddCouponForm from \"./AddCouponForm\";\n\nexport default class Search extends React.Component {\n    constructor(props) {\n        super(props);\n        this.items = [];\n        this.state = {\n            searchResult: []\n        }\n    }\n\n    getUrl = () => {\n        const url = `${config.backendEndpoint}/items`;\n        return url;\n    }\n\n    getItemsData = async(url) => {\n        const apiResponse = await fetch(url);\n        const data = await apiResponse.json();\n        return data;\n    }\n\n    componentDidMount = async() => {\n        const url = this.getUrl();\n        const data = await this.getItemsData(url);\n        this.items = data;\n        this.setState({\n            searchResult: data\n        })\n        console.log(this.state.searchResult);\n    }\n\n    onSearchInputChange = (e) => {\n        var searchQuery = e.target.value;\n        this.setState({\n            searchResult: this.items.filter(\n                (item) => item.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                            item.category.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                            item.type.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                            item.image.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                            item.gender.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                            item.brand.toLowerCase().includes(searchQuery.toLowerCase())\n            )\n        });\n    }\n\n    render() {\n        return(\n            <>\n                <Header >\n                    <form class=\"form-inline d-flex flex-row\">\n                        <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search by name, brand, category\" aria-label=\"Search\" onChange={this.onSearchInputChange} />\n                    </form>\n                </Header>\n                <div className=\"container\">\n                    <div className=\"row my-2 d-flex flex-row justify-content-around\">\n                        <button className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\">Add Coupon</button>\n                        <a href=\"/coupons\" className=\"btn btn-primary\">View Coupons</a>\n                        <a href=\"/cart\" className=\"btn btn-primary\">Go to Cart</a>\n                    </div>\n                    <div className=\"row\">\n                        { this.state.searchResult.map(\n                            (item) => <Item item={item} />\n                            ) \n                        } \n                    </div>\n                </div>\n                <AddCouponForm/>\n            </>\n        );\n    }\n}","import React from \"react\";\nimport Header from \"./Header\";\nimport {config} from \"../ipconfig\";\n\nexport default class Cart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cartIds: [],\n            cartItems: []\n        }\n    }\n\n    getUrl = () => {\n        // const url = `${config.backendEndpoint}`;\n        const url = `${config.backendEndpoint}`;\n        return url;\n    }\n\n    getCartData = async(url) => {\n        try {\n            var apiResponse = await fetch(url);\n            var cartData = await apiResponse.json();\n            this.setState({\n                cartIds: cartData.map(\n                    (data) => data.item_id\n                )\n            })\n        }\n        catch(err) {\n            console.log(err);\n        }\n    }\n\n    getCartItems = async(url) => {\n        try {\n            var apiResponse = await fetch(url);\n            var cartItems = await apiResponse.json();\n            this.setState({\n                cartItems: cartItems.filter(\n                    (item) => this.state.cartIds.includes(item._id)\n                )\n            })\n        }\n        catch(err) {\n            console.log(err);\n        }\n    }\n\n    removeCartItem = async(event) => {\n        var id = event.target.value;\n        await fetch(`${config.backendEndpoint}/cart/${id}`, {\n            method: \"DELETE\"\n        });\n        var url = this.getUrl();\n        await this.getCartData(url + \"/cart\");\n        await this.getCartItems(url + \"/items\");\n        var discValue = document.getElementById(\"discounted-value\");\n        discValue.innerHTML = \"-\";\n        var total = this.getCartTotalValue();\n        var finalValue = document.getElementById(\"final-cart-value\");\n        finalValue.innerHTML = `Rs. ${total}`;\n    }\n\n    getCartTotalValue = () => {\n        var prices = this.state.cartItems.map(\n            (item) => item.price\n        )\n        let total = prices.reduce(add, 0);\n        function add(accumulator, a) {\n            return accumulator + a;\n        }\n        return total;\n    }\n\n    verifyCouponCode = async() => {\n        var input = document.getElementById(\"coupon-code\");\n        var total = this.getCartTotalValue();\n        \n        var url = this.getUrl() + \"/checkout?\"+ new URLSearchParams({\n            cartValue: total,\n            couponCode: input.value.toUpperCase(),\n        });\n\n        var apiResponse = await fetch(url);\n        var data = await apiResponse.json();\n        \n        if(data.Error) {\n            alert(data.Error);\n        }\n        else {\n            var discValue = document.getElementById(\"discounted-value\");\n        discValue.innerHTML = this.getCartTotalValue() - data.finalCartValue;\n        \n        var finalValue = document.getElementById(\"final-cart-value\");\n        finalValue.innerHTML = `Rs. ${data.finalCartValue}`;\n        }\n\n    }\n\n    componentDidMount = async() => {\n        var url = this.getUrl();\n        await this.getCartData(url + \"/cart\");\n        await this.getCartItems(url + \"/items\");\n    }\n\n    render() {\n        return(\n            <>\n                <Header />\n                <div className=\"container mt-5\">\n                    <div className=\"row\">\n                        <div className=\"col-xs-12 col-md-8\">\n                            {this.state.cartItems && this.state.cartItems.map(\n                                (item) => <div className=\"row py-1 my-2\" style={{boxShadow:\"1px 1px 2px 2px silver\"}}>\n                                                <div className=\"col-2\"><img className=\"w-100\" src={item.image} alt=\"cart item\"/></div>\n                                                <div className=\"col-10\">\n                                                    <h5>{item.brand}</h5>\n                                                    <p>{item.name}</p>\n                                                    <p>{item.price}</p>\n                                                    <button className=\"btn btn-primary\" value={item._id} onClick={this.removeCartItem}>Remove</button>\n                                                </div>\n                                            </div>\n                                )\n                            }\n\n                            {\n                                this.state.cartIds.length === 0 && <div>Cart is empty. Add items to cart to checkout.</div>\n                            }\n                        </div>\n\n\n                        <div className=\"col-xs-12 col-md-4\">\n                            <input className=\"w-100 my-3\" id=\"coupon-code\" placeholder=\"Enter coupon code\" type=\"text\" />\n                            <button className=\"btn btn-primary w-100\" onClick={this.verifyCouponCode}>Apply Coupon</button>\n\n                            <div className=\"mt-3 d-flex flex-row justify-content-between\">\n                                <strong>Total Items:</strong>\n                                <div>{this.state.cartIds.length}</div>\n                            </div>\n                            <hr/>\n                            <div className=\"d-flex flex-row justify-content-between\">\n                                <strong>Total Cart Value:</strong>\n                                <div>Rs. {this.getCartTotalValue()}</div>\n                            </div>\n                            <hr/>\n                            <div className=\"d-flex flex-row justify-content-between\">\n                                <strong>Discount Value:</strong>\n                                <div id=\"discounted-value\">-</div>\n                            </div>\n                            <hr/>\n                            <div className=\"d-flex flex-row justify-content-between\">\n                                <strong>Cart Value after Discount</strong>\n                                <div id=\"final-cart-value\">Rs. {this.getCartTotalValue()}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n} ","import React from \"react\";\nimport Header from \"./Header\";\nimport {config} from \"../ipconfig\";\n\nexport default class ViewCoupons extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            coupons:[]\n        }\n    }\n\n    getAllCoupons = async() => {\n        let url = `${config.backendEndpoint}/coupons`;\n        let apiResponse = await fetch(url);\n        let data = await apiResponse.json();\n        console.log(data);\n        this.setState({\n            coupons: data\n        })\n    }\n\n    componentDidMount = async() => {\n        await this.getAllCoupons();\n    }\n\n\n    render() {\n        return(\n            <>\n                <Header/>\n                <div className=\"container mt-5\">\n                    <h4>Coupons</h4>\n                    <table>\n                        <thead>\n                            <tr style={{border:\"2px solid black\", backgroundColor:\"gray\"}}>\n                                <th className=\"px-2\">Coupon Code</th>\n                                <th className=\"px-2\">Minimum Cart Value</th>\n                                <th className=\"px-2\">Discount Type</th>\n                                <th className=\"px-2\">Discount Value</th>\n                                <th className=\"px-2\">Start Date</th>\n                                <th className=\"px-2\">Expiry Date</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                this.state.coupons.length && this.state.coupons.map(\n                                    (coupon) => <tr>\n                                                    <td>{coupon.couponCode}</td>\n                                                    <td>{coupon.minCartValue}</td>\n                                                    <td>{coupon.type}</td>\n                                                    <td>{coupon.discountValue}</td>\n                                                    <td>{coupon.startDate}</td>\n                                                    <td>{coupon.expiryDate}</td>\n                                                </tr>\n                                )\n                            }\n                        </tbody>\n                    </table>\n                </div>\n            </>\n        );\n    }\n}","import Search from \"./components/Search\";\nimport Cart from \"./components/Cart\";\nimport ViewCoupons from \"./components/ViewCoupons\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Search} />\n          <Route path=\"/cart\" component={Cart} />\n          <Route path=\"/coupons\" component={ViewCoupons} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}